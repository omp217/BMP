const fs = require('fs');

let jsonObject = {
	"id": "efcf9afc-a7af-4a6c-b648-f909d2e056e1",
	"name": "BMP",
	"timestamp": "2023-09-28T17:28:15.275Z",
	"collection_id": "30089431-bfd84e15-b016-4371-afa9-c19ff3895f8c",
	"folder_id": 0,
	"environment_id": "0",
	"totalPass": 0,
	"delay": "1000",
	"persist": true,
	"status": "finished",
	"startedAt": "2023-09-28T17:22:47.655Z",
	"totalFail": 0,
	"results": [
		{
			"id": "579f008b-73ef-4991-ab12-498910a74054",
			"name": "RMVVRM",
			"url": "https://nodjswebapp.azurewebsites.net/users/3/7",
			"time": 435,
			"responseCode": {
				"code": 200,
				"name": "OK"
			},
			"tests": {},
			"testPassFailCounts": {},
			"times": [
				375,
				363,
				356,
				327,
				318,
				320,
				321,
				326,
				333,
				324,
				327,
				344,
				329,
				342,
				338,
				380,
				333,
				274,
				251,
				260,
				231,
				246,
				254,
				256,
				257,
				266,
				333,
				235,
				248,
				246,
				242,
				245,
				237,
				262,
				240,
				230,
				239,
				255,
				314,
				239,
				241,
				247,
				251,
				253,
				245,
				240,
				231,
				241,
				248,
				248,
				243,
				262,
				234,
				250,
				283,
				234,
				240,
				229,
				237,
				240,
				379,
				338,
				242,
				254,
				250,
				255,
				330,
				385,
				278,
				318,
				304,
				281,
				298,
				262,
				280,
				331,
				291,
				404,
				341,
				271,
				388,
				321,
				313,
				378,
				400,
				311,
				398,
				357,
				410,
				363,
				395,
				413,
				402,
				303,
				334,
				379,
				434,
				320,
				312,
				435
			],
			"allTests": [
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{}
			]
		},
		{
			"id": "c6515a03-3e96-4c26-bbae-103eb1bfc8a0",
			"name": "MVVM",
			"url": "https://nodjswebapp.azurewebsites.net/users/",
			"time": 1089,
			"responseCode": {
				"code": 200,
				"name": "OK"
			},
			"tests": {},
			"testPassFailCounts": {},
			"times": [
				969,
				877,
				1131,
				889,
				894,
				898,
				881,
				867,
				851,
				878,
				935,
				903,
				862,
				925,
				885,
				880,
				1329,
				787,
				707,
				611,
				666,
				746,
				637,
				711,
				630,
				700,
				636,
				674,
				653,
				640,
				655,
				656,
				721,
				631,
				629,
				645,
				646,
				662,
				671,
				668,
				658,
				732,
				632,
				628,
				647,
				655,
				922,
				673,
				673,
				658,
				667,
				628,
				627,
				638,
				670,
				665,
				666,
				649,
				672,
				742,
				703,
				650,
				672,
				864,
				1010,
				1204,
				816,
				806,
				1020,
				1576,
				800,
				792,
				744,
				796,
				760,
				779,
				929,
				786,
				1047,
				961,
				1179,
				1071,
				865,
				842,
				848,
				858,
				1072,
				845,
				1133,
				1027,
				831,
				842,
				1046,
				1077,
				1004,
				796,
				1002,
				826,
				798,
				1089
			],
			"allTests": [
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{},
				{}
			]
		}
	],
	"count": 100,
	"totalTime": 111475,
	"collection": {
		"requests": [
			{
				"id": "579f008b-73ef-4991-ab12-498910a74054",
				"method": "GET"
			},
			{
				"id": "c6515a03-3e96-4c26-bbae-103eb1bfc8a0",
				"method": "GET"
			}
		]
	}
};

let rmvvrmArray = jsonObject.results[0].times;
let mvvmArray = jsonObject.results[1].times;

let csv = '';
for (let i = 0; i < rmvvrmArray.length; i++) {
    csv += `${rmvvrmArray[i]},${mvvmArray[i]}\n`;
}

fs.writeFileSync('latency.csv', csv);